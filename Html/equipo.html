<!DOCTYPE html>
<html lang="es">

<link rel="stylesheet" href="../Css/estilos.css">
<!--
<script src="js/script.js"></script>
-->

<head>
    <title>Futchap Equipo</title>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="Resource/Icono.png" sizes="32x32" type="image/png">

</head>

<body style="background: linear-gradient(to right, #666, #b4b4b4);">
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


<header>
    <a href="../index.html">
        <img src="../Resource/Icono.png" alt="Icono 1" style="margin-right: 10px;">
    </a>
    <a href="../index.html" style="text-decoration: none; color: inherit;">
    <h1 style="margin-right:20px;">Futchap Merida</h1>
    </a>
    <img src="../Resource/Icono2.gif" alt="Icono 2" style="margin-left: 10px;">
</header>

<div id="menu">
    <button class="hamburger-btn">&#9776; Menu</button>
    <ul class="menu-list">
        <li class="menu-button"><a href="../Html/equipo.html">Equipo</a></li>
        <li class="menu-button"><a href="../index.html">Noticias Liga</a></li>
        <li class="menu-button">
            <a>Conócenos</a>
            <ul class="submenu">
                <li class="menu-button"><a href="../Html/participa.html">Participa</a></li>
                <li class="menu-button"><a href="../Html/reglamento.html">Reglamento</a></li>
            </ul>
        </li>
    </ul>
</div>


<div id="contenido">
    <div class="col1">
        <span class="estilo-h2">Equipo</span>
        </br>
        <img src="../Resource/Campo.gif" width="339" height="542">
        <img class="c11" src="../Resource/Chapa.jpg" width="64" height="79" style="position: absolute;
    left: 136px;
    top: 116px;
    width: 81px;"
        >
        <img class="c1" src="../Resource/Chapa.jpg" width="64" height="79" style="    position: absolute;
    left: 20px;
    top: 124px;
    width: 81px;"
        >
        <img class="c2" src="../Resource/Chapa.jpg" width="64" height="79" style="position: absolute;
    left: 136px;
    top: 491px;
    width: 81px;"
        >
        <img class="c3" src="../Resource/Chapa.jpg" width="64" height="79" style="position: absolute;
    left: 262px;
    top: 316px;
    width: 81px;"
        >
        <img class="c4" src="../Resource/Chapa.jpg" width="64" height="79" style="    position: absolute;
    left: 189px;
    top: 376px;
    width: 81px;"
        >
        <img class="c5" src="../Resource/Chapa.jpg" width="64" height="79" style="    position: absolute;
    left: 87px;
    top: 375px;
    width: 81px;"
        >
        <img class="c6" src="../Resource/Chapa.jpg" width="64" height="79" style="    position: absolute;
    left: 7px;
    top: 321px;
    width: 81px;"
        >
        <img class="c7" src="../Resource/Chapa.jpg" width="64" height="79" style="position: absolute;
    left: 134px;
    top: 263px;
    width: 81px;"
        >
        <img class="c8" src="../Resource/Chapa.jpg" width="64" height="79" style="position: absolute;
    left: 257px;
    top: 213px;
    width: 81px;"
        >
        <img class="c9" src="../Resource/Chapa.jpg" width="64" height="79" style="    position: absolute;
    left: 243px;
    top: 118px;
    width: 81px;"
        >
        <img class="c10" src="../Resource/Chapa.jpg" width="64" height="79" style="position: absolute;
    left: 5px;
    top: 217px;
    width: 81px;"
        >
        <br>
        <br>
    </div>
    <div class="col2">

        <h2 style="text-decoration: underline;">Penaltis</h2>
        <br>
        <form>
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required="" placeholder="Introduce tu nombre"><br>
        </form>
        <br>
        <div class="botonesDisp" style="margin-left: 40px;">

            <button onclick="cambiarImagen('buffon.png')">Jugar con Buffon</button>
            <button onclick="cambiarImagen('casillas.png')">Jugar con Casillas</button>
            <button onclick="cambiarImagen('portero.png')">Jugar con Noier</button>

        </div>

        <div id="porteria">
            <div id="portero"></div>
            <div id="pelota"></div>
        </div>

        <div class="botonesDisp" style="margin-left: 123px;">
            <button onclick="lanzarPenalti('izquierda')">Izquierda</button>
            <button onclick="lanzarPenalti('centro')">Centro</button>
            <button onclick="lanzarPenalti('derecha')">Derecha</button>
        </div>

        <script>
            const portero = document.getElementById('portero');
            const pelota = document.getElementById('pelota');

            function lanzarPenalti(direccionLanzamiento) {
                pelota.style.top = '175px';
                pelota.style.left = '192px';
                portero.style.left = '150px';
                portero.style.transform = 'none';
                switch (direccionLanzamiento) {
                    case 'izquierda':
                        pelota.style.left = '90px';
                        pelota.style.top = '125px';

                        break;
                    case 'centro':
                        pelota.style.top = '125px';
                        break;
                    case 'derecha':
                        pelota.style.left = '300px';
                        pelota.style.top = '125px';

                        break;
                    default:
                        break;
                }
                const direcciones = ['izquierda', 'centro', 'derecha'];
                const direccionAleatoria = direcciones[Math.floor(Math.random() * direcciones.length)];
                switch (direccionAleatoria) {
                    case 'izquierda':
                        portero.style.left = '30px';
                        break;
                    case 'centro':
                        portero.style.transform = 'rotateX(180deg)';
                        break;
                    case 'derecha':
                        portero.style.left = '270px';
                        break;
                    default:
                        break;
                }
                var gol = 0;
                setTimeout(function () {
                    if (direccionAleatoria === direccionLanzamiento) {
                        alert('¡Portero atrapa el balón!');

                    } else {
                        alert('¡Gol!');
                        gol = 1;

                    }
                    var nombre = document.getElementById('nombre').value;
                    if (!nombre) {
                        alert("Por favor, introduce un nombre para poder guardar las cookies (resultados).");
                    } else {
                        marcarGol(gol, nombre);
                    }
                    pelota.style.top = '175px';
                    pelota.style.left = '192px';
                    portero.style.left = '150px';
                    portero.style.transform = 'none';
                }, 1000);

            }

            function marcarGol(gol, nombre) {
                var cookieValue = getCookie(nombre);
                var penalti = 1;
                var goles = 0;
                if (cookieValue) {

                    var match = cookieValue.toString().match(/penaltis=(\d+)goles=(\d+)/);
                    if (match) {
                        penalti = parseInt(match[1], 10);
                        goles = parseInt(match[2], 10);
                    }
                    penalti += 1;
                    goles += gol;
                    cookieValue = "penaltis=" + penalti + "goles=" + goles;
                } else {
                    // Si la cookie no existe,
                    penalti = 1; // Primer penalti
                    cookieValue = "penaltis=" + penalti + "goles=" + gol;
                }

                document.cookie = "User" + nombre + '=' + cookieValue + '; expires=Thu, 01 Jan 2030 00:00:00 UTC; path=/;';
            }

            function getCookie(nombre) {
                var name = "User" + nombre + "=";
                var decodedCookie = decodeURIComponent(document.cookie);
                var cookies = decodedCookie.split(';');

                for (var i = 0; i < cookies.length; i++) {
                    var cookie = cookies[i].trim();
                    if (cookie.indexOf(name) == 0) {
                        return cookie.substring(name.length, cookie.length);
                    }
                }

                return null;
            }


        </script>


        <div class="Centro_Participa">
            <h2 style="text-decoration: underline;">Clasificatoria</h2>
            <br>

            <table id="jugadores">
                <thead>
                <tr>
                    <th>Jugador</th>
                    <th>Penaltis</th>
                    <th>Goles</th>
                </tr>
                </thead>
                <tbody>
                <!-- Los datos se introducen en el script de abajo-->
                </tbody>
            </table>
            <script>
                $(document).ready(function () {
                    var cookies = document.cookie.split(';');
                    console.log("Cookies:", cookies);

                    // Itera sobre cada cookie
                    cookies.forEach(function (cookie) {
                        // Elimina espacios en blanco
                        cookie = cookie.trim();

                        // Verifica si la cookie comienza con "User"
                        if (cookie.indexOf('User') === 0) {
                            // Divide la cookie en partes
                            var keyValuePairs = cookie.split('=');

                            var nombreUsuario = keyValuePairs[0].substring(4);
                            var match = cookie.toString().match(/penaltis=(\d+)goles=(\d+)/);
                            if (match) {
                                numero1 = parseInt(match[1], 10);
                                numero2 = parseInt(match[2], 10);
                            }
                            console.log("Usuario:", nombreUsuario, "Número1:", numero1, "Número2:", numero2);
                            var newRow = "<tr><td>" + nombreUsuario + "</td><td>" + numero1 + "</td><td>" + numero2 + "</td></tr>";
                            $("#jugadores tbody").append(newRow);

                        }
                    });
                });
            </script>
        </div>
    </div>
    <div class="col3">
        <p>Traductor</p>

        <div id='google_translate_element' class='google'></div>

        <script type='text/javascript'>
            function googleTranslateElementInit() {
                new google.translate.TranslateElement({
                    pageLanguage: 'es',
                    includedLanguages: 'ca,eu,gl,en,fr,it,pt,de',
                    layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                    gaTrack: true
                }, 'google_translate_element');
            }
        </script>

        <script type='text/javascript'
                src='https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit'></script>

        <br>
        <img src="../Resource/Jugador2.gif" width="50%" height="auto">


        <br>
        <img src="../Resource/nene.gif" width="60%" height="auto">
    </div>


</div>
</body>
<br>
<br>
<br>
<script src="../Js/js.js"></script>

<footer>
    <div class="social-text">Redes Sociales</div>
    <div class="social-icons">
        <img src="../Resource/instagram.png" alt="Icono 1">
        <img src="../Resource/twiter.png">
        <img src="../Resource/facebook.png" alt="Icono 3">
    </div>
    <div class="footer-links">
        <a style="color: #fff;" href="participa.html">Quiero participar</a><br>
        <a style="color: #fff;" href="participa.html">Contáctenos</a>
    </div>
</footer>


</html>